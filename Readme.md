# Design Pattern

https://refactoring.guru/design-patterns

***

## [목차]
[Creational patterns](#Creational-patterns) <br/>
 - [Factory Method](#Factory-Method)
  
  <br/>
  
[Structural patterns](#Structural-patterns) <br/> 
   
 - [Adapter](#Adapter)
 
  <br/>
  
[Behavioral patterns](#Behavioral-patterns)

- [Strategy](#Strategy)
- [State](#State)

***

## Creational patterns



### Factory Method 

객체를 생성하기 위해 인터페이스를 정의하고 서브클래스에서 어떤 인스턴스를 생성할지 결정하는 방법

`new` operator 를 통해 객체를 생성하지 않는다. 객체 생성에 다형성을 부여하고 싶은 경우에 Factory Method 를 쓰면 된다. 

뭐 예를들면 운송수단(Transport)을 통해서 배송을 하는데 `ship` 을 통해서 해야하는지 `truck` 을 통해서 해야하는지 결정 지어줘야할 때. 

Applicability 

- 사전에 만들어야 할 객체의 정확한 타입이나 의존성을 알기 어려운 경우에 팩토리 메소드를 통해서 이후에 서브 클래스를 통해 생성을 하도록 만들 수 있다. 

  - 팩토리 메소드 패턴을 적용하면 객체 생성 코드를 분리시킬 수 있어서 확장시키기 쉽다. 즉 미래에 추가되는 타입이 있는 경우에 확장 시키기 쉽다.   
   
-  라이브러리나 프레임워크를 사용자에게 제공하고 사용자가 이를 확장해서 사용할 수 있도록 할려면 팩토리 메소드 패턴을 사용하라. 

  - 추상 팩토리 클래스를 상속하고 팩토리 메소드를 오버라이딩 해서 이를 해결해줄 수 있다. 사용자가 정의한 팩토리 클래스를 정의하고 그 팩토리 클래스를 표준으로 사용하도록 하고 (프레임워크 단에서 Single Factory Method 으로 해놓는 방법이 있다.) 
    
    타입에 맞는 객체를 반환해주기만 하면 된다.   
    
- 매번 기존 객체를 다시 빌드하지 않고 객체를 재사용해서 리소스를 절약하고 싶다면 팩토리 메소드 패턴을 사용해라 

  - 리소스에 민감한 객체를 다루는 경우 (데이버테이스 커넥션, 네트워크 리소스 등) 미리 여러개 만들어놓고 재사용하는게 이점이 많다. 

***

## Structural patterns

### Adapter 

어댑터 패턴은 호환되지 않는 인터페이스를 가진 두 객체가 서로 협력할 수 있도록 하는 패턴이다. 

뭐 예를들면 주식 앱에서 데이터를 XML 형식으로 다운받았지만 데이터 분석 라이브러리는 JSON 형식이 필요한 경우다. 이런 경우에 어댑터 페턴을 사용할 수 있다.



***

## Behavioral patterns

### Strategy

하나의 결과를 만드는 목적(메소드)는 동일하나 그 목적을 달성할 수 있는 전략이 다양한 경우에 사용되는 패턴으로 동적으로 알고리즘을 교체할 수 있다. 

Applicability 
  
- 전략 패턴은 하나의 오브젝트에서 다양한 알고리즘을 사용해서 문제를 해결할 수 있고 이를 런타임 시점에 결정할 수 있기를 바란다면 사용하는게 좋다. 
  
- 클래스가 유사한 것이 많고 행동하는 방식이 조금씩 다르다면 전략 패턴을 사용하는 것이 좋다. 
  
- 이 전략 패턴을 사용함으로써 비즈니스 로직에서 구현의 디테일을 숨길 수 있다. 
  
- 만약 하나의  클래스에서 조건에 따라 동일한 알고리즘을 조금씩 변형해서 사용한다면 이 패턴을 사용하는 것이 좋다. 

***

### State 

객체는 다양한 상태를 객체화하여 객체가 상태에 따라 다른 행동을 할 수 있도록 하는게 가능하다. 

대상은 상태 객체를 참조하는게 가능하고 어떤 조건에 따라 상태를 바꾸는게 가능하고 그에따라 행동 양상이 바뀔 수 있다. 

상태 패턴을 이용하면 상태를 가지고 있는 객체를 상태 조건에 따라 분기해서 실행하지 않아도 되고 그냥 상태를 직접 사용하면 된다. 


Applicability

- 현재 객체가 상태에 따라 다르게 동작해야 하고 상태 수가 많고 상태가 자주 변경될 가능성이 있다면 상태 패턴을 사용해라.

- 클래스가 필드 값 조건에 따라 다르게 행동하고 있도록 설계되었다면 이 패턴을 통해서 개선할 수 있다. 

- 상태 기반으로 검사하는 조건문이 중복되는 경우가 많다면 이 패턴을 사용할 수 있다. 




